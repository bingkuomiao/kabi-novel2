!function n(i,r,c){function s(t,e){if(!r[t]){if(!i[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(d)return d(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}o=r[t]={exports:{}},i[t][0].call(o.exports,function(e){return s(i[t][1][e]||e)},o,o.exports,n,i,r,c)}return r[t].exports}for(var d="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){this.element=document.querySelector(".page.bookshelf")}},{}],2:[function(e,t,o){"use strict";function n(){if(window.Bind)throw Error("bind has been inited");(window.Bind=this).cbMap={},this.objIndex=0,this.objMap={}}Object.defineProperty(o,"__esModule",{value:!0}),n.prototype.handleObj=function(o,n){var i,r=this;o.hasOwnProperty("_bindId")||(o._bindId=this.objIndex++),this.cbMap[o._bindId+n]||(o[i="_prop"]=o[n],this.cbMap[o._bindId+n]=[],Object.defineProperty(o,n,{get:function(){return o[i]},set:function(e){var t=o[i];o[i]=e,r.run(o,n,e,t)}}))},n.prototype.bindView=function(t,e,o){this.bind(e,o,function(e){t.innerHTML=e},!0)},n.prototype.bind=function(e,t,o,n){this.handleObj(e,t),this.cbMap[e._bindId+t].push(o),n&&o(e[t])},n.prototype.run=function(e,t,o,n){this.cbMap[e._bindId+t].forEach(function(e){try{e(o,n)}catch(e){throw e}})},o.default=n},{}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.strToDom=void 0,o.strToDom=function(e){var t=document.createElement("div");return t.innerHTML=e,t.children}},{}],4:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(){window.onerror=function(e){console.error(e),window.Modal&&window.Modal.add({content:e.toString()})}}},{}],5:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("../common"),i=(r.prototype.remove=function(){this.body.parentElement.removeChild(this.body)},r);function r(e){var t=this,o=(0,n.strToDom)('\n            <div class="message">\n                <div class="message-content">\n                </div>\n            </div>\n        ')[0],o=(this.body=o).querySelector(".message-content");o.innerHTML=e.content,o.onclick=function(){e.onOk&&e.onOk(),t.remove()}}function c(){if(window.Message)throw Error("modal has been inited");this.list=[],(window.Message=this).element=document.querySelector(".message-box")}c.prototype.add=function(e){e=new i(e);return this.list.push(e),this.element.appendChild(e.body),e},c.prototype.remove=function(e){e.remove();e=this.list.indexOf(e);this.list.splice(e,1)},c.prototype.clear=function(){this.list=[],this.element.innerHTML=""},o.default=c},{"../common":3}],6:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=e("../common"),n=(i.prototype.remove=function(){this.body.parentElement.removeChild(this.body)},i);function i(e){var t=this,o=(this.zIndex=e.zIndex,'\n            <div class="modal" style="z-index: '.concat(this.zIndex,';">\n                <div class="modal-content">\n                </div>\n                <div class="modal-footer">\n                    <div class="button modal-confirm">确定</div>\n                    <div class="button modal-cancel">取消</div>\n                </div>\n            </div>\n        ')),o=(0,r.strToDom)(o)[0],n=(this.body=o).querySelector(".modal-content"),i=o.querySelector(".modal-confirm"),o=o.querySelector(".modal-cancel");"string"==typeof e.content?n.innerHTML=e.content:n.appendChild(e.content),o.onclick=function(){e.onCancel&&e.onCancel(),t.remove()},i.onclick=function(){e.onOk&&e.onOk(),t.remove()}}function c(){if(window.Modal)throw Error("modal has been inited");this.list=[],(window.Modal=this).element=document.querySelector(".modal-box")}c.prototype.add=function(e){"zIndex"in e||(t=this.list.length,e.zIndex=(t?this.list[t-1].zIndex:100)+1);var t=new n(e);return this.list.push(t),this.element.appendChild(t.body),t},c.prototype.remove=function(e){e.remove();e=this.list.indexOf(e);this.list.splice(e,1)},c.prototype.clear=function(){this.list=[],this.element.innerHTML=""},o.default=c},{"../common":3}],7:[function(e,t,o){"use strict";function n(e){var n=this;if(window.Router)throw Error("router has been inited");(window.Router=this).pages=e;function t(e){var t=window.location.hash,o=t.lastIndexOf("#");-1<o&&(t=t.slice(o+1)),0!==n.pages.length&&(-1===n.pages.indexOf(t)?window.location.hash=n.pages[0]:n.switchPage(t))}(window.onhashchange=t)()}Object.defineProperty(o,"__esModule",{value:!0}),n.prototype.switchPage=function(e){var t;null!=(t=document.querySelector(".show"))&&t.classList.remove("show"),null!=(t=document.querySelector(".".concat(e)))&&t.classList.add("show")},n.prototype.go=function(e){window.location.hash=e},o.default=n},{}],8:[function(e,t,o){"use strict";function n(){if(window.Store)throw Error("store has been inited");(window.Store=this).limit=0,this.usage=0,this.checkUsage()}Object.defineProperty(o,"__esModule",{value:!0}),n.prototype.set=function(e,t,o){try{localStorage.setItem(e,t),this.checkUsage(),o&&o.success&&o.success()}catch(e){o&&o.fail&&o.fail()}},n.prototype.get=function(e){return localStorage.getItem(e)},n.prototype.checkUsage=function(){this.usage=Object.keys(localStorage).map(function(e){return e+localStorage.getItem(e)}).join("").length},n.prototype.checkLimit=function(){if(window.Message.add({content:"正在检测缓存容量"}),!this.limitChecking){this.limitChecking=!0;for(var e=this.usage,t=1e6,o=0;2<t;)try{var n="_test".concat(o++);localStorage.setItem(n,new Array(t-n.length+1).join("a")),e+=t}catch(e){console.log(e),o--,t=Math.round(t/2)}this.limit=e,Object.keys(localStorage).filter(function(e){return 0===e.indexOf("_test")}).forEach(function(e){return localStorage.removeItem(e)}),this.limitChecking=!1,window.Message.add({content:"检测完成"})}},o.default=n},{}],9:[function(e,t,o){"use strict";function n(){this.element=document.querySelector(".page.config"),this.loadingMap={},window.Bind.bindView(this.element.querySelector(".store-usage"),window.Store,"usage"),window.Bind.bindView(this.element.querySelector(".store-total"),window.Store,"limit")}Object.defineProperty(o,"__esModule",{value:!0}),n.prototype.checkStore=function(){this.loadingMap.checkStore=!0,window.Store.checkLimit()},o.default=n},{}],10:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var n=e("./bookshelf/bookshelf"),i=e("./config/config"),r=e("./common/router/router"),c=e("./common/debugger/debugger"),s=e("./common/modal/modal"),d=e("./common/message/message"),a=e("./common/store/store"),l=e("./common/bind/bind"),u=["bookshelf","article","catalogue","config"];function f(){document.querySelector(".article .content").innerHTML+="1"}window.pageSwitch=f,window.nextPage=f,window.jumpTo=function(e){window.location.hash=e},window.init=function(){new c.default,new l.default,new s.default,new d.default,new r.default(u),new a.default,new i.default;var e=new n.default;console.log(e)},window.ondblclick=function(e){e.preventDefault()}},{"./bookshelf/bookshelf":1,"./common/bind/bind":2,"./common/debugger/debugger":4,"./common/message/message":5,"./common/modal/modal":6,"./common/router/router":7,"./common/store/store":8,"./config/config":9}]},{},[10]);